<!DOCTYPE HTML>
<html>
<head>
<style>
body {
    margin: 0px;
    padding: 0px;
}
</style>
</head>
<body>
<canvas id="canvas" width="640" height="640" style="background:black"></canvas>
<script>

var t = 0;
var dust = new Array();


for (var i=0; i<100; i++) {
    dust[i] = {}
    dust[i].r = Math.random() * 255;
    dust[i].a = Math.random() * Math.PI * 2;
    dust[i].col = Math.random() * 200 + 55;
}

function drawShit() {
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');

    // Clear
    canvas.width = canvas.width;
    for (var i=0; i<dust.length; i++) {
        var c = dust[i].r / 2;
        var x = Math.ceil((Math.cos(dust[i].a) * dust[i].r + 320) / 5) * 5;
        var y = Math.ceil((Math.sin(dust[i].a) * dust[i].r + 320) / 5) * 5;
        context.fillStyle = "rgb(" + c + "," + c + "," + c + ")";
        context.fillRect(x, y, 5, 5);
        if (x > 640 || x < 0 || y > 640 || y < 0) {
            console.log(dust[i].r);
            dust[i].r = 10;
            dust[i].a = Math.random() * Math.PI * 2;
        } else {
            dust[i].r += 10;
        }
    }
}

window.setInterval(drawShit, 50);

</script>
</body>
</html>
